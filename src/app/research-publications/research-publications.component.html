<div class="wrapper_research a-fade-in">
    <div class="wrapper_categories">
        <div class="u-margin-right__big">
            <button
                class="cat-button heading_primary u-text-underline__sand"
                (click)="selected = 'all'; sort_selected = 'all'"
            >
                All Publications
            </button>
        </div>
        <button
            class="paragraph cat-button u-margin-right dynamic--underline"
            (click)="selected = 'all'; sort_selected = 'all'"
        >
            All
        </button>
        <button
            class="paragraph cat-button u-margin-right dynamic--underline"
            (click)="selected = 'deliverables'; sort_selected = 'all'"
        >
            Deliverables
        </button>
        <button
            class="paragraph cat-button dynamic--underline"
            (click)="selected = 'research'; sort_selected = 'all'"
        >
            Research Papers
        </button>
    </div>
    <div class="wrapper_years">
        <div
            class="a-fade-in"
            *ngIf="selected == 'research' && publications.length > 0"
        >
            <button
                class="paragraph u-margin-right cat-button"
                (click)="sort_selected = '2022'"
            >
                2022
            </button>
            <button
                class="paragraph cat-button"
                (click)="sort_selected = '2023'"
            >
                2023
            </button>
        </div>
        <div
            class="a-fade-in"
            *ngIf="selected == 'deliverables' && deliverables.length > 0"
        >
            <button
                class="paragraph u-margin-right cat-button"
                (click)="sort_selected = '1'"
            >
                WP1
            </button>
            <button
                class="paragraph u-margin-right cat-button"
                (click)="sort_selected = '2'"
            >
                WP2
            </button>
            <button
                class="paragraph u-margin-right cat-button"
                (click)="sort_selected = '3'"
            >
                WP3
            </button>
            <button
                class="paragraph u-margin-right cat-button"
                (click)="sort_selected = '4'"
            >
                WP4
            </button>
            <button
                class="paragraph u-margin-right cat-button"
                (click)="sort_selected = '5'"
            >
                WP5
            </button>
            <button
                class="paragraph u-margin-right cat-button"
                (click)="sort_selected = '6'"
            >
                WP6
            </button>
            <button
                class="paragraph u-margin-right cat-button"
                (click)="sort_selected = '7'"
            >
                WP7
            </button>
            <button
                class="paragraph u-margin-right cat-button"
                (click)="sort_selected = '8'"
            >
                WP8
            </button>
            <button
                class="paragraph u-margin-right cat-button"
                (click)="sort_selected = '9'"
            >
                WP9
            </button>
        </div>
    </div>
    <div class="wrapper_publications">
        <div
            class="a-fade-in"
            *ngIf="selected == 'all' || selected == 'research'"
        >
            <div *ngFor="let publication of publications">
                <div
                    class="publication"
                    *ngIf="
                        publication.year == sort_selected ||
                        sort_selected == 'all'
                    "
                >
                    <div
                        class="publication__title paragraph__highlighted__light u-text-underline"
                    >
                        <a href="{{ publication.link }}" target="_blank">
                            {{ publication.title }}
                        </a>
                    </div>
                    <div class="publication__authors paragraph">
                        Authors: {{ publication.authors }}
                    </div>
                    <div class="publication__authors paragraph">
                        DOI: {{ publication.doi }}
                    </div>
                    <a href="{{ publication.link }}" target="_blank">
                        <button
                            class="publication__button paragraph__highlighted"
                        >
                            See Publication
                        </button>
                    </a>
                </div>
            </div>
            <div *ngIf="publications.length === 0 && selected == 'research'">
                <div class="publication">No Publications</div>
            </div>
        </div>

        <!--        <div *ngIf="deliverables.length == 0">-->
        <!--            <div class="publication">No Deliverables</div>-->
        <!--        </div>-->
        <div
            class="a-fade-in"
            *ngIf="selected == 'all' || selected == 'deliverables'"
        >
            <div *ngFor="let deliverable of deliverables">
                <div
                    class="publication"
                    *ngIf="
                        deliverable.work_package == sort_selected ||
                        sort_selected == 'all'
                    "
                >
                    <div
                        class="publication__title paragraph__highlighted__light u-text-underline"
                    >
                        <!--                        <a href="{{ deliverable.link }}" target="_blank">-->
                        {{ deliverable.title }}
                        <!--                        </a>-->
                    </div>

                    <div class="publication__authors paragraph">
                        Deliverable Number: {{ deliverable.number }}
                    </div>
                    <!--                    <a href="{{ deliverable.link }}" target="_blank">-->
                    <!--                        <button-->
                    <!--                            class="publication__button paragraph__highlighted"-->
                    <!--                        >-->
                    <!--                            See Publication-->
                    <!--                        </button>-->
                    <!--                    </a>-->
                </div>
            </div>
        </div>
    </div>
</div>
